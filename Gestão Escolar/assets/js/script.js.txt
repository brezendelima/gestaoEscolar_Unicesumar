document.addEventListener("DOMContentLoaded", function() {
    const formularioAluno = document.getElementById('formularioAluno');
    const alunosTableBody = document.querySelector('#alunosTable tbody');
    const adicionaDadosAlunoBtn = document.getElementById('adicionaDadosAluno');
    const mostraAlunoBtn = document.getElementById('mostraAluno');

    let alunos = [];

    adicionaDadosAlunoBtn.addEventListener('click', function() {
        const nomeInput = document.getElementById('input_nome');
        const raInput = document.getElementById('input_ra');
        const emailInput = document.getElementById('input_email');

        if (!nomeInput.checkValidity() || !raInput.checkValidity() || !emailInput.checkValidity()) {
            alert("Por favor, preencha todos os campos obrigat√≥rios: Nome, RA e E-mail.");
            return;
        }

        const aluno = {
            nome: nomeInput.value,
            ra: raInput.value,
            email: emailInput.value
        };

        alunos.push(aluno);
        adicionarAlunoNaTabela(aluno);
        limparCampos([nomeInput, raInput, emailInput]);
    });

    function adicionarAlunoNaTabela(aluno) {
        const row = alunosTableBody.insertRow(); // Insere uma nova linha na tabela
        row.innerHTML = `
            <td>${aluno.nome}</td>
            <td>${aluno.ra}</td>
            <td>${aluno.email}</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <button type="button" class="btn btn-remove">Remover</button>
            </td>
        `;

        const btnRemove = row.querySelector('.btn-remove');
        btnRemove.addEventListener('click', function() {
            const index = alunos.findIndex(al => al.nome === aluno.nome && al.ra === aluno.ra && al.email === aluno.email);
            if (index !== -1) {
                alunos.splice(index, 1);
                row.remove();
            }
        });
    }

    function limparCampos(inputs) {
        inputs.forEach(input => input.value = '');
    }
});

